---
title: 为博客制作猫咪拍立得与Status Cafe挂件
description: ""
date: 2025-05-13
draft: true
hidden: false
tags: 
    - Hugo
categories: 
    - 扭断那天鹅的脖子
toc: true
slug: 2025-05-13
---

## 组件效果展示

上个月装修博客的时候写了一个猫咪拍立得挂件放在首页，它最大的功能就是萌，次要的功能是点击按钮可以切换照片。

虽然我换了首页样式，但还是保留了原来的首页，因此可以查看[Demo](/index_view)的右下角玩一玩。萌吧？（笑）

上个月还同时改写了一下Status Cafe（左下角的Mumble）的挂件，因此一并在这里记录。

### 猫咪拍立得

1. 首先，创建`\layouts\partials\meow-box.html`，代码如下：

    ```
    {{- if .Site.Params.meowBox.enabled }}
    <div id="meow-box" style="border-radius: 10px;">
        {{- $images := .Site.Params.meowBox.images -}}
        {{- if gt (len $images) 0 }}
        <img id="meow-image" src="{{ index $images 0 }}" alt="Meow" style="width: 100%; aspect-ratio: 1/1; object-fit: cover;">
        {{- end }}
        <button onclick="toggleMeowImage()" id="meow-btn">
            <img src="/cat/cat75.gif" style="border-radius:0; margin:0; max-width:50%;">
            meow
        </button>
    </div>
    
    <script>
        let images = [
            {{ range $index, $img := .Site.Params.meowBox.images }}
        "{{ $img }}",
            {{ end }}
        ];
        let currentIndex = 0;
    
        // 预加载图片
        function preloadImages() {
            images.forEach(image => {
                const img = new Image(); // 创建一个新的 Image 对象
                img.src = image; // 将图片源设置为路径，这会自动开始加载图片
            });
        }
    
        function toggleMeowImage() {
            currentIndex = (currentIndex + 1) % images.length;
            document.getElementById("meow-image").src = images[currentIndex];
        }
    
        // 页面加载时预加载图片
        preloadImages();
    </script>
    {{- end }}
    
    ```

2. 在`config.toml`中加入启用组件，并添加图片链接：

   ```
   [params.meowBox]
   enabled = true
   images = [
   "https://pub-219f59729cc7474d97beb0f99a13e6bd.r2.dev/byphone/IMG_8853.jpeg",
   "https://pub-219f59729cc7474d97beb0f99a13e6bd.r2.dev/byphone/IMG_0091.jpeg"
   ]
   ```
