---
title: "博客结构"
date: 2025-09-22
slug: "2025-09-23" 
draft: true
tags:
  - monthly
description: ""
comment: true
toc: true
---

突发奇想写一些关于Hugo博客的结构目录说明，我的博客现在是基于0.148版本的Hugo，本文所述的内容，相对之前使用的更早的0.89版本来说可能结构不太适用。

> 在开篇以前，仍需注意，本人没有什么代码经验，会存在知识性的错误。

<!-- 想要写本文，是因为昨天研究自己的Tags页面时，无论怎么更改模板都不起效或者渲染混乱。这有一部分是由于0.146版本的Hugo更新对模板的处理有了比较多的改变。

<details>
<summary>（不感兴趣的话可以跳过这一部分）</summary>

> 在过去，`/tags/`页面（通常作为标签云页面），和它的下级页面`/tags/hugo/`（单个Tag页）是可以由 `layouts/_default/taxonomy.html`来控制的。
>
> 而在0.146版本以后，建议的做法是创建 `taxonomy.html` 和 `term.html` 或创建更通用的布局，例如 `list.html` 。
>
> 参考文档：[Changes to the layouts folder](https://gohugo.io/templates/new-templatesystem-overview/#changes-to-the-layouts-folder)
>

</details> -->


在Hugo中，页面的渲染遵循一定的查找规则。如果能够比较好地理解文件渲染的层级，可以帮助我们更好的魔改和个性化制作一些有趣的页面。

首先请看鱼鱼博客的文件夹主要结构：

```
├── layouts
│   ├── index.html  // 首页
│   ├── partials    // 此处存放了如评论区、翻页器、日夜切换按钮等组件
│   ├── posts
│   │   ├── baseof.html  // Posts页面基础框架
│   │   ├── diary.html   // Diary（日记）文章页模板
│   │   ├── list.html    // 文章列表模板
│   │   └── single.html  // 基础post文章页面模板
│   └── _default 
│       ├── baseof.html  // 页面基础框架
│       ├── diary.html   // Diary（日记）文章页模板（例如本站的About页面就是一个使用了“日记”模板的Page）
│       ├── list.html    // 列表页如/tags/等的渲染
│       ├── single.html  // 基础page文章页面模板
│       ├── term.html    // 特定分类项如单一tag的页面
```

在Hugo当中，有几种页面类型（Page Kind）。

## Page Kinds（页面种类）

首先，这是页面的类型，决定了模板的用途。

  - `home`: 渲染主页。
  - `page`: 渲染单页，比如一篇博客文章。
  - `section`: 渲染内容区段的列表页，比如[/posts/](/posts/)。
  - `taxonomy`: 渲染分类法的总列表页，比如[/tags/](/tags/)。
  - `term`: 渲染特定分类项的页面，比如[/tags/hugo/](/tags/hugo/)。

## Standard Layouts（标准布局）

这些是通用的布局类型，可以被多种页面种类使用。

- `list.html`: 用于所有列表页，包括 section、taxonomy 和 term。这是最常用的通用列表模板。
- `single.html`: 用于所有单页。
- `all.html`: 一个“万能”模板，如果找不到更具体的模板，Hugo 就会使用它。（该特性应该是在0.140后版本的Hugo才出现的）

## Custom Layout（自定义布局）

我们可以在layout文件夹下创建新的页面布局，例如`diary.html`。当我们想在一个页面中调用它时，在Front matter中加入`layout: "diary"`即可调用。

例如，我的一些过往文章就使用了和本文不同的文章布局。

![Diary 日记](https://pub-219f59729cc7474d97beb0f99a13e6bd.r2.dev/0520/2.png)

我的设计是在Diary模板中，文章的摘要、字数、日期、目录都是不重要的，全都删去了不显示。

而本文这类说明文，则是主要用于呈现关于文章的所有信息，并且为了展示更多信息，电脑端的页面宽度更宽。

## 知道了这些以后，我们可以做些什么？

一个简单的分类构想。

假如你有一个多类文章的博客，分为指南（guidance）、日记（diary）、小说（fiction）。

那么，你希望三类文章都能分别置放，并未它们建立新的列表页面和单独的文章模板。你就可以分别创建以下三类文章的文件夹。

```
├── layouts
│   ├── guidance
│   │   ├── baseof.html
│   │   ├── list.html   
│   │   └── single.html 
│   ├── diary
│   │   ├── baseof.html
│   │   ├── list.html   
│   │   └── single.html 
│   ├── fiction
│   │   ├── baseof.html 
│   │   ├── list.html  
│   │   └── single.html 
│   ├── _default
│   │   ├── ...
```

而你放置文件内容的`content`文件夹为：

```
├── content
│   ├── guidance
│   │   ├── xxx.md
│   │   ├── ...
│   ├── diary
│   │   ├── xxx.md
│   │   ├── ...
│   ├── fiction
│   │   ├── xxx.md
│   │   ├── ...
```

如果目前你的`content`中有这些分类的文件夹，但在`layout`中没有上述的模板文件。那么Hugo将会根据优先级进行查找。

1. `/guidance/`页面的第一优先级：`layouts/guidance/list.html`

2. 如果不存在：Hugo 会回退到`layouts/_default/list.html`




<style>
  #post-content>img.post-image, .single-image-figure>img.post-image {
    display: block;
    margin: 1.5em auto 0.5em auto;
    max-width: 65%;
    border: 0px solid var(--shadow);
    box-shadow: 0px 0px 0 0 var(--shadow);
    border-radius: 8px;
    transition: box-shadow 0.3s ease;
}
</style>