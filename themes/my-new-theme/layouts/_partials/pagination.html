<nav class="pagination">
    {{ if .Paginator.HasPrev }}
        <a href="{{ .Paginator.Prev.URL }}">â—€ï¸</a>
    {{ else }}
        <a href="#" class="disabled">ğŸ“</a>
    {{ end }}

    {{ range .Paginator.Pagers }}
        <a href="{{ .URL }}" class="{{ if eq . .Paginator }}active{{ end }}">
            {{ .PageNumber }}
        </a>
    {{ end }}

    {{ if .Paginator.HasNext }}
        <a href="{{ .Paginator.Next.URL }}">â–¶ï¸</a>
    {{ else }}
        <a href="#" class="disabled">ğŸ“Œ</a>
    {{ end }}
</nav>


<script>
// è·å–éœ€è¦åŠ¨æ€æ›´æ–°çš„å®¹å™¨
const postslistContainer = document.getElementById('postslist');
const paginationNav = document.getElementById('pagination-nav');

if (postslistContainer && paginationNav) {
    document.addEventListener('click', function(event) {
        // æ£€æŸ¥ç‚¹å‡»çš„å…ƒç´ æ˜¯å¦æ˜¯åˆ†é¡µé“¾æ¥
        const target = event.target.closest('#pagination-nav a');

        // å¦‚æœç‚¹å‡»çš„ä¸æ˜¯åˆ†é¡µé“¾æ¥ï¼Œç›´æ¥è¿”å›
        if (!target) return;

        // é˜»æ­¢é»˜è®¤çš„é“¾æ¥è·³è½¬è¡Œä¸º
        event.preventDefault();
        
        // è·å–ä¸‹ä¸€é¡µçš„ URL
        const newUrl = target.href;

        // ä½¿ç”¨ Fetch API è·å–æ–°é¡µé¢çš„å†…å®¹
        fetch(newUrl)
            .then(response => response.text())
            .then(html => {
                // åˆ›å»ºä¸€ä¸ªä¸´æ—¶ div æ¥è§£æè¿”å›çš„ HTML
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = html;

                // æå–æ–°çš„æ–‡ç« åˆ—è¡¨å’Œåˆ†é¡µå™¨å†…å®¹
                const newPostslist = tempDiv.querySelector('#postslist');
                const newPagination = tempDiv.querySelector('#pagination-nav');

                if (newPostslist && newPagination) {
                    // æ›¿æ¢å½“å‰é¡µé¢å†…å®¹
                    postslistContainer.innerHTML = newPostslist.innerHTML;
                    paginationNav.innerHTML = newPagination.innerHTML;

                    // å¯é€‰ï¼šå¹³æ»‘æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                    // æ›´æ–°æµè§ˆå™¨ URLï¼Œä¸å¼•èµ·é¡µé¢åˆ·æ–°
                    history.pushState({}, '', newUrl);
                }
            })
            .catch(error => console.error('Error fetching the new page:', error));
    });
}
</script>
<style>
    .pagination {
    display: flex;
    justify-content: center;
    gap: 12px;
    width: 100%;
    font-size: 90%; /* è¿™é‡Œæ·»åŠ äº† font-size è§„åˆ™ */
}

.pagination a {
    display: block;
    padding: 8px 12px;
    text-decoration: none;

}
@media (min-width: 768px) {
    .postslist .content {
        min-height: 680px; /* åœ¨æ¡Œé¢ç«¯è®¾ç½®æœ€å°é«˜åº¦ */
    }
}
.pagination a.disabled {
    cursor: default;
    pointer-events: none;
    opacity: 0.5;
}
</style>