<!--<a id="back-link" href="{{ "" | relURL }}">{{ $.Site.Params.theme_config.back_home_text }}</a>-->
<!--<script>-->
<!--    window.addEventListener("load", function() {-->
<!--        const backLink = document.getElementById("back-link");-->

<!--        // 获取上一页的 URL-->
<!--        const referrer = document.referrer;-->

<!--        // 获取当前页面的 URL-->
<!--        const currentURL = window.location.pathname;-->

<!--        // 判断当前页面是否是 All posts 页面 (/posts 或 /posts/)-->
<!--        if (currentURL === "/posts" || currentURL === "/posts/") {-->
<!--            backLink.href = "/";  // 如果是 All posts 页面，返回首页-->
<!--            backLink.textContent = "Back to Home";  // 根据需要修改显示的文字-->
<!--        }-->
<!--        // 判断上一页是否为 /posts 或首页-->
<!--        else if (referrer.includes("/posts")) {-->
<!--            backLink.href = "/posts";  // 返回到 All posts 页面-->
<!--            backLink.textContent = "Back to All Posts";  // 根据需要修改显示的文字-->
<!--        } else if (referrer === window.location.origin || referrer === "") {-->
<!--            backLink.href = "/";  // 返回到首页-->
<!--            backLink.textContent = "Back to Home";  // 根据需要修改显示的文字-->
<!--        } else {-->
<!--            backLink.href = referrer;  // 如果无法判断，回到上一页-->
<!--            backLink.textContent = "Back";  // 你可以根据需要修改-->
<!--        }-->
<!--    });-->
<!--</script>-->
<div id="header-post">
  <span id="nav">
    <ul>
      {{ range .Site.Menus.main }}
        <li><a href="{{ .URL }}">{{ .Name }}</a></li>
      {{ end }}
    </ul>
  </span>
</div>

<style>/* 整个导航栏容器 */

/* 整个导航栏容器 */
#header-post {
    position: fixed; /* 固定在页面顶部 */
    top: 0; /* 顶部距离 */
    left: 100; /* 左侧距离 */
    right: 0; /* 右侧距离 */
    display: inline-block;
    z-index: 100; /* 确保导航栏显示在页面内容上方 */
    background: rgb(249, 247, 241);
    backdrop-filter: blur(5px); /* 添加模糊效果 */
    padding: 0.1rem 0.1rem; /* 上下边距和左右边距 */
    width: auto; /* 确保导航栏横跨整个页面宽度 */
    border-bottom-left-radius: 10px;
}

/* 导航栏列表 */
#header-post #nav ul {
    line-height: 10px;
    margin: 0;
    padding: 0;
    list-style-type: none!important;
    display: flex; /* 使用flex布局使内容更加灵活 */
    justify-content: flex-end; /* 使导航项居右 */
}

/* 导航栏列表项 */
#header-post ul li {
    display: inline-block;
    margin-right: 15px;
    vertical-align: middle;
}

/* 导航栏链接样式 */
#header-post #nav a {
    color: rgb(74, 60, 53);
    letter-spacing: .01em;
    font-weight: 200;
    font-style: normal;
    font-size: .8rem;
    text-decoration: none;
}

/* 在导航栏列表项前添加符号 */
#nav ul li:before {
    content: "";
    font-weight: bold;
    margin-right: 3px;
}
</style>

<script>
    window.addEventListener('scroll', function () {
        const headerPost = document.getElementById('header-post');
        const scrollPosition = window.scrollY;
        const maxScroll = document.body.scrollHeight - window.innerHeight; // 页面滚动的最大高度
        const scrollPercentage = scrollPosition / maxScroll;

        // 0-30%时完全可见
        if (scrollPercentage <= 0.4) {
            headerPost.style.opacity = 1;
            headerPost.style.background = 'rgba(249, 247, 241, 0.8)'; // 保持透明背景
        }
        // 30%-50%时渐渐消失
        else if (scrollPercentage <= 0.6) {
            const opacity = 1 - (scrollPercentage - 0.4) / 0.2; // 计算渐变的透明度
            headerPost.style.opacity = opacity;
            headerPost.style.background = `rgba(249, 247, 241, ${opacity * 0.8})`; // 渐渐透明
        }
        // 50%之后完全消失
        else {
            headerPost.style.opacity = 0;
            headerPost.style.background = 'rgba(249, 247, 241, 0)'; // 完全透明
        }
    });

</script>
