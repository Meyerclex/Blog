<!DOCTYPE html>
<html lang="zh-cn"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  
    <meta name="description" content="先放上成果：Lyin&rsquo;s Room。
前段时间在象上刷到Quartz，算是一个支持Obsidian双链玩法的博客？点了收藏之后今天适逢周六，刚好呢又到了晚上十一点（人家的一个不干正事又不打算睡觉的时间），虽然呢也没有什么笔记要整理，但是就是看到漂亮的东西想试一试。搭建并不算难，而且很漂亮！于是来写一下笔记记录过程。
第一步：BGM - In Motion启动！Let the hacking begin！
首先来讲一下我对Quartz的使用感受。它的框架也是基于Hugo啦，这直接降低了我的心理负担，因为算是一个很熟悉的东西。
它默认支持：

搜索
本地预览
夜间模式
文章目录（可以修改层级和目录序号的显示）
支持Obsidian的双链玩法，直接打开Obsidian就写！无痛保存！
最近的文章
文章Tag
Front-Matter（这好像并不是必须的）

但是它的缺点是本身并不支持归档（Archive）的功能。于是作为归档功能的替代，在此隆重向大家介绍我用Obsidian时常用的MOC（Map of Content），算是一种整理思路。轻轻地推荐这篇最早让我了解到Map of Content的一篇文章：Obsidian · 网课学习笔记整理 From Seviche.cc。
其实概括而谈MOC就是放弃用Obsidian本身的文件夹功能给笔记归类（并非必要，只是我很懒得整理），直接建立一个索引页，里面用双链功能创建文章，索引页就像归档或总目录一样，带你去任何一页笔记。
而Quartz的使用完全适配这种笔记管理思路，在Quartz中，_index.md文件就是博客主页，可以被任意编写，因此可以作为索引/文章目录页使用。

注意：我基本没有什么计算机基础，以下内容不保真！有疑问的话建议去原作者的仓库底下提Issue :D

你需要有些什么

Github账号
Go 环境(&gt;= 1.16) 。（这个东西我都不知道我为什么会有）
Hugo
Make工具。因为我也缺少这个所以后文有关于它的安装与配置。

那么就开始吧！
基本上只需要跟着作者的Setup一步步走下来。

Fork作者的仓库： Quartz Repository
Clone仓库到本地，可以用Github Desktop也可以敲命令行：

git clone https://github.com/YOUR-USERNAME/quartz
于是此时你已经有了一个quartz文件夹了。
你所有的内容都可以在quartz/content中找到。里面默认有notes、private、templates三个文件夹，顾名思义分别存放笔记、隐私笔记（不显示）、模板文件夹。
但是你的笔记并不一定需要放在/content/notes中，完全可以放在/content下。
同时里面还有_index.md文件，它里面的内容直接展现为播客主页。
Obsidian配置

（可选）新建一个笔记库，或者直接将你的笔记库移动到/content文件夹。

但假设这么做了，文件夹层级目录则为/content/Vault，你可以用Obsidian在里面新建、修改笔记。
那么此时就涉及一个问题，可是_index.md文件是放在/content目录中的，这意味着你在Obsidian中见不到它。
可是按照我的笔记使用逻辑，我希望博客主页(index.md)直接作为我的笔记索引页，放满我的笔记双链（幻想），如果它不能在Obsidian里修改，那就会很不方便。


我希望一打开笔记就能修改所有东西。因此我是这么做的：直接将我的Obsidian笔记库位置放在了根目录quartz中，并将上述三个文件夹、一个_index.md剪切到了笔记库中，删掉quartz/content，并把笔记库重命名为content。
在Obsidian的设置 &gt; 文件与链接中打开始终更新内部链接，内部链接类型：基于仓库根目录的绝对路径。

安装hugo-obsidian

需要确保你已经安装了 Go (&gt;= 1.16) 。

go install github.com/jackyzha0/hugo-obsidian@latest
如果遇到报错：">
  

  <title>
    
      Quartz &amp; Obsidian | 总之又有新文具
    
  </title>

  <link rel="shortcut icon" type="image/x-icon" href="/" />

  
  
  
    
    
    <link rel="stylesheet" href="/css/main.ee30964c05381d1e5bbfe056097bf5ccf08e7017227d3473d74ca16c2df5ad8a5d8eedc70024f28853df5d77531ffe853b4398783d3cddfe3c51522c517229fe.css" integrity="sha512-7jCWTAU4HR5bv&#43;BWCXv1zPCOcBcifTRz10yhbC31rYpdju3HACTyiFPfXXdTH/6FO0OYeD083f48UVIsUXIp/g==" />
  

  
  

</head>
<body a="light">
        <main class="page-content" aria-label="Content">
            <div class="w">
                <div class="post-meta">
                    <a id="back-link" href="/">Back</a>
<script>
    window.addEventListener("load", function() {
        const backLink = document.getElementById("back-link");

        
        const referrer = document.referrer;

        
        const currentURL = window.location.pathname;

        
        if (currentURL === "/posts" || currentURL === "/posts/") {
            backLink.href = "/";  
            backLink.textContent = "Back to Home";  
        }
        
        else if (referrer.includes("/posts")) {
            backLink.href = "/posts";  
            backLink.textContent = "Back to All Posts";  
        } else if (referrer === window.location.origin || referrer === "") {
            backLink.href = "/";  
            backLink.textContent = "Back to Home";  
        } else {
            backLink.href = referrer;  
            backLink.textContent = "Back";  
        }
    });
</script>



                </div>

<article>
    <h1>Quartz &amp; Obsidian | 总之又有新文具</h1>
    <p>
        <time datetime="2022-08-20 00:00:00 &#43;0000 UTC">
            2022-08-20
        </time>
    </p>
    <div style="position: fixed; right:3px; max-width:400px; overflow:auto; top: 100px; width: 12vw; bottom:50px; font-size: 90%;">
        
    <div class="post-toc" id="post-toc">
        <aside>
            <header>
                Table of Contents
            </header>
            
            
            <nav id="TableOfContents">
  <ul>
    <li><a href="#你需要有些什么">你需要有些什么</a></li>
    <li><a href="#那么就开始吧">那么就开始吧！</a>
      <ul>
        <li><a href="#obsidian配置">Obsidian配置</a></li>
        <li><a href="#安装hugo-obsidian">安装hugo-obsidian</a></li>
        <li><a href="#安装hugo">安装Hugo</a></li>
        <li><a href="#发布你的页面">发布你的页面</a></li>
        <li><a href="#其余的配置">其余的配置</a></li>
        <li><a href="#尚未解决的问题">尚未解决的问题</a></li>
      </ul>
    </li>
  </ul>
</nav>
            
            
        </aside>
        <a href="#" id="toc-toggle"></a>
    </div>



    </div>
    <p>先放上成果：<a href="https://c.gregueria.icu">Lyin&rsquo;s Room</a>。</p>
<p>前段时间在象上刷到<a href="https://github.com/jackyzha0/quartz">Quartz</a>，算是一个支持Obsidian双链玩法的博客？点了收藏之后今天适逢周六，刚好呢又到了晚上十一点（人家的一个不干正事又不打算睡觉的时间），虽然呢也没有什么笔记要整理，但是就是看到漂亮的东西想试一试。搭建并不算难，而且很漂亮！于是来写一下笔记记录过程。</p>
<p><em>第一步：BGM - In Motion启动！Let the hacking begin！</em></p>
<p>首先来讲一下我对Quartz的使用感受。它的框架也是基于Hugo啦，这直接降低了我的心理负担，因为算是一个很熟悉的东西。</p>
<p>它默认支持：</p>
<ol>
<li>搜索</li>
<li>本地预览</li>
<li>夜间模式</li>
<li>文章目录（可以修改层级和目录序号的显示）</li>
<li>支持Obsidian的双链玩法，直接打开Obsidian就写！无痛保存！</li>
<li>最近的文章</li>
<li>文章Tag</li>
<li>Front-Matter（这好像并不是必须的）</li>
</ol>
<p>但是它的缺点是本身并不支持归档（Archive）的功能。于是作为归档功能的替代，在此隆重向大家介绍我用Obsidian时常用的MOC（Map of Content），算是一种整理思路。轻轻地推荐这篇最早让我了解到Map of Content的一篇文章：<a href="https://seviche.cc/2022-03-07-obsidian-notes1">Obsidian · 网课学习笔记整理 From Seviche.cc</a>。</p>
<p>其实概括而谈MOC就是放弃用Obsidian本身的文件夹功能给笔记归类（并非必要，只是我很懒得整理），直接建立一个索引页，里面用双链功能创建文章，索引页就像归档或总目录一样，带你去任何一页笔记。</p>
<p>而Quartz的使用完全适配这种笔记管理思路，在Quartz中，<code>_index.md</code>文件就是博客主页，可以被任意编写，因此可以作为索引/文章目录页使用。</p>
<blockquote>
<p>注意：我基本没有什么计算机基础，以下内容不保真！有疑问的话建议去原作者的仓库底下提Issue :D</p>
</blockquote>
<h2 id="你需要有些什么">你需要有些什么</h2>
<ol>
<li>Github账号</li>
<li><a href="https://golang.org/doc/install">Go</a> 环境(&gt;= 1.16) 。（这个东西我都不知道我为什么会有）</li>
<li><a href="https://gohugo.io/getting-started/installing/">Hugo</a></li>
<li>Make工具。因为我也缺少这个所以后文有关于它的安装与配置。</li>
</ol>
<h2 id="那么就开始吧">那么就开始吧！</h2>
<p>基本上只需要跟着作者的Setup一步步走下来。</p>
<ol>
<li>Fork作者的仓库： <a href="https://github.com/jackyzha0/quartz">Quartz Repository</a></li>
<li>Clone仓库到本地，可以用Github Desktop也可以敲命令行：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/YOUR-USERNAME/quartz
</span></span></code></pre></div><p>于是此时你已经有了一个<code>quartz</code>文件夹了。</p>
<p>你所有的内容都可以在<code>quartz/content</code>中找到。里面默认有<code>notes</code>、<code>private</code>、<code>templates</code>三个文件夹，顾名思义分别存放笔记、隐私笔记（不显示）、模板文件夹。</p>
<p>但是你的笔记并不一定需要放在<code>/content/notes</code>中，完全可以放在<code>/content</code>下。</p>
<p>同时里面还有<code>_index.md</code>文件，它里面的内容直接展现为播客主页。</p>
<h3 id="obsidian配置">Obsidian配置</h3>
<ol>
<li>（可选）新建一个笔记库，或者直接将你的笔记库移动到<code>/content</code>文件夹。
<ol>
<li>但假设这么做了，文件夹层级目录则为<code>/content/Vault</code>，你可以用Obsidian在里面新建、修改笔记。</li>
<li>那么此时就涉及一个问题，可是<code>_index.md</code>文件是放在<code>/content</code>目录中的，这意味着你在Obsidian中见不到它。</li>
<li>可是按照我的笔记使用逻辑，我希望博客主页(<code>index.md</code>)直接作为我的笔记索引页，放满我的笔记双链（幻想），如果它不能在Obsidian里修改，那就会很不方便。</li>
</ol>
</li>
<li>我希望一打开笔记就能修改所有东西。因此我是这么做的：直接将我的Obsidian笔记库位置放在了根目录<code>quartz</code>中，并将上述三个文件夹、一个<code>_index.md</code>剪切到了笔记库中，删掉<code>quartz/content</code>，并把笔记库重命名为<code>content</code>。</li>
<li>在Obsidian的<code>设置 &gt; 文件与链接</code>中打开<code>始终更新内部链接</code>，内部链接类型：<code>基于仓库根目录的绝对路径</code>。</li>
</ol>
<h3 id="安装hugo-obsidian">安装hugo-obsidian</h3>
<blockquote>
<p>需要确保你已经安装了 <a href="https://golang.org/doc/install">Go</a> (&gt;= 1.16) 。</p>
</blockquote>
<pre tabindex="0"><code>go install github.com/jackyzha0/hugo-obsidian@latest
</code></pre><p>如果遇到报错：</p>
<pre tabindex="0"><code>go install: github.com/jackyzha0/hugo-obsidian@latest: module github.com/jackyzha0/hugo-obsidian: Get &#34;https://proxy.golang.org/github.com/jackyzha0/hugo-obsidian/@v/list&#34;: dial tcp 142.251.42.241:443: connectex: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
</code></pre><p>解决办法：
执行命令<code>go env -w GOPROXY=https://goproxy.cn</code></p>
<h3 id="安装hugo">安装Hugo</h3>
<ol>
<li><a href="https://gohugo.io/getting-started/installing/">Install Hugo | Hugo</a></li>
<li>运行命令行：</li>
</ol>
<pre tabindex="0"><code>cd &lt;quartz文件夹地址&gt;
make serve
</code></pre><ol start="3">
<li>如果此时显示<code>'make'不是内部或外部命令，也不是可运行的程序 或批处理文件</code>，那么就需要安装工具make。</li>
<li>参照<a href="https://blog.csdn.net/qq_49641239/article/details/121517925">make不是内部或外部命令，也不是可运行的程序或批处理文件解决方案</a>，逐步安装完毕并配置好PATH环境变量。
<ol>
<li>假如对安装有疑惑的话可以参考：<a href="http://c.biancheng.net/view/8077.html">MinGW下载和安装教程</a>的前六步。</li>
<li>关于环境变量的配置，请不要仅安装在当前的用户变量中，而是安装在<strong>系统变量</strong>中。</li>
<li>确认上述步骤无误，如果此时执行命令行<code>make serve</code>仍显示<code>不是内部或外部命令</code>的话，将<code>MinGW\bin</code>下的<code>mingw32-make.exe</code>重命名为 <code>make.exe</code>。</li>
</ol>
</li>
<li>执行命令行后，博客生成成功，访问<code>http://localhost:1313/</code>本地预览。</li>
</ol>
<h3 id="发布你的页面">发布你的页面</h3>
<p>全程按照<a href="https://quartz.jzhao.xyz/notes/hosting/">Deploying Quartz to the Web</a>操作，完全不知道原理，我至今也没真正搞懂Github分支是什么，不知道为什么我本地所作的一些修改全都安静无缝地Push到了Hugo分支里。但它就是成功了（成功了）。</p>
<p>我就这样静静地操作到了最后一步绑定域名。</p>
<p>关于子域名我是这么干的：</p>
<ol>
<li>在仓库根目录<code>Add file</code>，写一个文件名为<code>CNAME</code>且没有后缀的文件。在里面写入你要绑定的域名：<code>c.gregueria.icu</code>。</li>
<li>然后去DNS设置里，子域名记录，记录类型为<code>CNAME</code>，<code>   IP地址/目标主机：</code>你的GitHub用户名.github.io`。</li>
<li>然后去<code>Setting &gt; Pages &gt; Custom domain</code>把你的域名写好，保存。</li>
</ol>
<p>大功告成！</p>
<h3 id="其余的配置">其余的配置</h3>
<p>在<code>config.toml</code>和<code>/data/config.yaml</code>和<code>/data/graphConfig.yaml</code>中可以修改网站基本配置。</p>
<h3 id="尚未解决的问题">尚未解决的问题</h3>
<ol>
<li>这个分支到底是怎么回事啊。</li>
<li>网站证书无效，搜了一圈教程都没能解决，现在它还是一个很不安全的网站呢。并且虽然我什么也没动但是网站时常掉线，感觉是我绑定域名那一步有些问题。</li>
<li>看到有人的网站装修（<a href="https://jzhao.xyz/">jzhao.xyz</a>）很漂亮，这个也太炫了吧？！！！！</li>
<li>人家哪有那么多笔记要放啊？！！！</li>
</ol>

    <br>
    <div style="padding-bottom:3px;"></div>
</article>
    <div class="pre-next">
        
            <a class="pre-next-btn bg" href="https://gregueria.icu/posts/unlighted/">Prev：人类从未成功形容过任何一朵玫瑰</a>
        

        

            <a class="pre-next-btn bg" href="https://gregueria.icu/posts/hackingbegin/">Next：Let the Hacking begin！</a>

        

    </div>
    <br>
    <script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script>
    <link
            rel="stylesheet"
            href="https://unpkg.com/@waline/client@v2/dist/waline.css"
    />
    <img src="/site/ghostszombies.gif" class="divider" style="display: block; margin-left: auto; margin-right: auto;" />
    <div id="comments" class="comments">
        <style>
    .wl-addr {
        display: none !important;
        color: transparent !important;
    }
    .wl-content .vemoji,
    .wl-content .wl-emoji {
        display: inline-block;
        vertical-align: baseline;
        height: 3.4em !important;
        margin: -0.125em 0.25em;
    }

    img.wl-emoji,
    img.vemoji {
        vertical-align: sub;
        transition: ease-out 0.6s;
    }

    img.wl-emoji:hover,
    img.vemoji:hover {
        transform: scale(1.8) !important;
    }
</style>
<div id="waline"></div>
<script>
    Waline.init({
        el: "#waline",
        serverURL: "https://co.gregueria.icu/",
        emoji: [
            "https://cdn.jsdelivr.net/gh/Saidosi/azuki-emoji-for-waline@1.0/azukisan",
            "https://cdn.jsdelivr.net/gh/norevi/blob-emoji-for-waline@2.0/blobs-gif",
            "https://cdn.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs",
            "https://cdn.jsdelivr.net/gh/norevi/blob-emoji-for-waline@2.0/blobs-png",
        ],
        requiredMeta: ["name", "email", "url"],
        dark: true,
    });
</script>
    </div>

    <div>
    
        
        <footer class="site-footer">
            <p><a href="/" style="text-decoration:none; color: inherit;">© 2021 - 2024 | 再會，謝謝所有的魚</a></p>
        </footer>
    



<script>
    ;(function () {
        const CboxUrl = "https://www3.cbox.ws/box/?boxid=3522873&boxtag=LBkamX"
        const Wording1 = "向我提问！"
        const Wording2 = "看到就会回复 :D"
        const TagTextColor = "#f9f7f1"
        const TagBgColor = "#e69494"
        const BodyBgColor = "white"

        const $container = document.createElement("div")
        const $button = document.createElement("div")

        $button.innerText = Wording1
        document.body.append($button)

        $container.innerHTML += `
    <iframe src="${CboxUrl}" width="100%" height="380" allowtransparency="yes" allow="autoplay" frameborder="0" marginheight="0" marginwidth="0" scrolling="auto"></iframe>
  `
        let isOpen = false
        let isFirst = true
        $button.onclick = () => {
            if (isFirst) {
                isFirst = false
                document.body.append($container)
            }
            if (!isOpen) {
                useStyle($container, {
                    top: "unset",
                    bottom: "0px",
                    visibility: "visible"
                })
                useStyle($button, {
                    bottom: "400px"
                })
                $button.innerText = Wording2
            } else {
                useStyle($container, {
                    top: "100%",
                    bottom: "unset",
                    visibility: "hidden"
                })
                useStyle($button, {
                    bottom: "0px"
                })
                $button.innerText = Wording1
            }
            isOpen = !isOpen
        }
        useStyle($button, {
            position: "fixed",
            bottom: "0px",
            right: "0px",
            background: TagBgColor,
            color: TagTextColor,
            "font-size": "14px",
            "border-top-left-radius": "10px",
            padding: "5px 10px",
            cursor: "pointer"
        })
        useStyle($container, {
            position: "fixed",
            top: "100%",
            right: "0px",
            width: "300px",
            height: "400px",
            background: BodyBgColor
        })

        function useStyle (dom, style) {
            for (let sKey in style) {
                dom.style[sKey] = style[sKey]
            }
        }
    })()
</script>

</div>

            </div>
        </main>
    </body></html>
